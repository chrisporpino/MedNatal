<div class="flex flex-col h-screen bg-gray-100 overflow-hidden">
  
  <div class="flex-1 flex overflow-hidden">
    <!-- Left Column: Global Navigation -->
    <app-left-nav [isCollapsed]="isNavCollapsed()" (navToggled)="toggleNav()"></app-left-nav>
    
    <!-- Right side content area -->
    <div class="flex-1 flex flex-col overflow-hidden">
      
        <!-- Global Header -->
        <app-header></app-header>
        
        <!-- Main content area with patient context and router outlet -->
        <div class="flex-1 flex overflow-hidden">
            <!-- Central Column: Patient Context (Conditional) -->
            @if (isPatientContextVisible()) {
            <app-patient-context></app-patient-context>
            }
            
            <!-- Right Column: Scrollable Content Area -->
            <div class="flex-1 overflow-y-auto">
              <router-outlet></router-outlet>
            </div>
        </div>
    </div>

  </div>
</div>